{
  "$schema": "./tasks.schema.json",
  "meta": {
    "version": "1.3.0",
    "last_updated": "2026-01-17T14:30:00Z",
    "last_agent": "opencode",
    "project_phase": "Phase D: Deployment & Testing Complete"
  },
  "tasks": [
    {
      "id": "TASK-001",
      "title": "Citation Parser Implementation",
      "status": "completed",
      "priority": "high",
      "category": "feature",
      "created": "2026-01-10",
      "updated": "2026-01-15",
      "assigned_agent": "Discovery-Agent",
      "requires_review": false,
      "reviewed_by": "Antigravity",
      "review_notes": "Implemented in src/parser/citation_extractor.py. Tested with diverse PDFs.",
      "description": "Develop a module to find references like 'BNBest-P' or 'ยง 44 BHO' in text.",
      "acceptance_criteria": [
        "Regex-based extraction of laws and guidelines",
        "NER support for non-standardized references",
        "Integration into the parsing pipeline"
      ],
      "subtasks": [],
      "blocked_by": [],
      "blocks": [
        "TASK-002"
      ],
      "docs_updated": true,
      "verified": true,
      "verified_by": "opencode",
      "verified_date": "2026-01-17"
    },
    {
      "id": "TASK-002",
      "title": "Reference Linking",
      "status": "completed",
      "priority": "high",
      "category": "feature",
      "created": "2026-01-10",
      "updated": "2026-01-15",
      "assigned_agent": "Graph-Architekt",
      "requires_review": false,
      "reviewed_by": "Antigravity",
      "review_notes": "Edges are correctly created in knowledge_graph.json.",
      "description": "Generate REFERENCES edges between document nodes based on citations.",
      "acceptance_criteria": [
        "Automatic edge creation in NetworkX",
        "Stub-node creation for non-existing documents",
        "Visualization in Dashboard"
      ],
      "subtasks": [],
      "blocked_by": [
        "TASK-001"
      ],
      "blocks": [
        "TASK-003"
      ],
      "docs_updated": true,
      "verified": true,
      "verified_by": "opencode",
      "verified_date": "2026-01-17"
    },
    {
      "id": "TASK-003",
      "title": "Multi-Hop Retrieval",
      "status": "completed",
      "priority": "high",
      "category": "feature",
      "created": "2026-01-15",
      "updated": "2026-01-17",
      "assigned_agent": "opencode",
      "requires_review": true,
      "reviewed_by": null,
      "review_notes": "Logic implemented in src/parser/hybrid_search.py. Needs validation by next agent.",
      "description": "Implement logic to load neighboring nodes in RAG context via REFERENCES and SUPERSEDES edges.",
      "acceptance_criteria": [
        "Graph traversal in HybridSearchEngine",
        "Context injection for LLM",
        "Handling of SUPERSEDES for version warnings"
      ],
      "subtasks": [],
      "blocked_by": [
        "TASK-002"
      ],
      "blocks": [],
      "docs_updated": true,
      "verified": true,
      "verified_by": "opencode",
      "verified_date": "2026-01-17"
    },
    {
      "id": "TASK-004",
      "title": "Dashboard UI Filter Fixes",
      "status": "completed",
      "priority": "medium",
      "category": "bugfix",
      "created": "2026-01-15",
      "updated": "2026-01-16",
      "assigned_agent": "Antigravity",
      "requires_review": false,
      "reviewed_by": "opencode",
      "review_notes": "Filters for ministry and type are now functional.",
      "description": "Repair inactive UI filters in dashboard.html.",
      "acceptance_criteria": [
        "Ministry filter works",
        "Type filter works",
        "Reset button functional"
      ],
      "subtasks": [],
      "blocked_by": [],
      "blocks": [],
      "docs_updated": true,
      "verified": true,
      "verified_by": "opencode",
      "verified_date": "2026-01-17"
    },
    {
      "id": "TASK-005",
      "title": "Dockerization",
      "status": "completed",
      "priority": "medium",
      "category": "infrastructure",
      "created": "2026-01-17",
      "updated": "2026-01-17",
      "assigned_agent": "Antigravity",
      "requires_review": false,
      "reviewed_by": null,
      "review_notes": "Dockerfile and docker-compose.yml created. Backend and Frontend separated.",
      "description": "Create Dockerfiles for Backend and Frontend components.",
      "acceptance_criteria": [
        "Docker-compose for local development",
        "Optimized image size",
        "Persistence for ChromaDB"
      ],
      "subtasks": [],
      "blocked_by": [],
      "blocks": [],
      "docs_updated": true,
      "verified": true,
      "verified_by": "Antigravity",
      "verified_date": "2026-01-17"
    },
    {
      "id": "TASK-006",
      "title": "Full E2E Test Suite",
      "status": "completed",
      "priority": "high",
      "category": "testing",
      "created": "2026-01-17",
      "updated": "2026-01-17",
      "assigned_agent": "Antigravity",
      "requires_review": false,
      "reviewed_by": null,
      "review_notes": "Playwright E2E test covering search, AI answer, and graph context expansion.",
      "description": "Comprehensive E2E tests for the dashboard and search API.",
      "acceptance_criteria": [
        "Playwright coverage for all UI elements",
        "API response validation",
        "Data consistency checks"
      ],
      "subtasks": [],
      "blocked_by": [],
      "blocks": [],
      "docs_updated": true,
      "verified": true,
      "verified_by": "Antigravity",
      "verified_date": "2026-01-17"
    }
  ],
  "features": [
    {
      "id": "FEAT-001",
      "title": "Graph Density (The Brain)",
      "status": "completed",
      "version": "1.1.0",
      "created": "2026-01-10",
      "completed": "2026-01-15",
      "requires_review": false,
      "reviewed_by": "Antigravity",
      "review_notes": "Reference extraction is solid.",
      "tests": {
        "unit": "completed",
        "integration": "completed",
        "e2e": "pending"
      },
      "docs": {
        "prd_updated": true,
        "api_docs_updated": false,
        "user_guide_updated": false
      }
    },
    {
      "id": "FEAT-002",
      "title": "Local Stability & DX",
      "status": "completed",
      "version": "1.1.1",
      "created": "2026-01-12",
      "completed": "2026-01-16",
      "requires_review": false,
      "reviewed_by": "opencode",
      "review_notes": "DX improved significantly with config centralization.",
      "tests": {
        "unit": "completed",
        "integration": "completed",
        "e2e": "completed"
      },
      "docs": {
        "prd_updated": true,
        "api_docs_updated": false,
        "user_guide_updated": true
      }
    },
    {
      "id": "FEAT-003",
      "title": "Graph-Guided RAG",
      "status": "completed",
      "version": "1.1.2",
      "created": "2026-01-15",
      "completed": "2026-01-17",
      "requires_review": true,
      "reviewed_by": null,
      "review_notes": "Implemented multi-hop logic. Next agent should review integration.",
      "tests": {
        "unit": "completed",
        "integration": "completed",
        "e2e": "pending"
      },
      "docs": {
        "prd_updated": true,
        "api_docs_updated": true,
        "user_guide_updated": false
      }
    }
  ],
  "rules": {
    "version_increment": "Only increment version when feature is completed AND reviewed",
    "review_policy": "Reviews can only be done by NEXT agent, not same agent",
    "hallucination_prevention": [
      "Never mark tasks as completed without verification",
      "Always check if files/functions exist before referencing",
      "Update this JSON after every significant change"
    ],
    "handoff_required": [
      "Update meta.last_agent",
      "Update meta.last_updated",
      "Mark completed tasks",
      "Set requires_review for next agent"
    ]
  }
}
